// Config
let currentBase='SYP',rates={},goldPrices={},spread=.5,visitors=0,updates=0,isAdmin=!1;const ADMIN_HASH='0192023a7bbd73250516f069df18b500',SYRIAN_FLAG=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" style="width: 100%; height: 100%;"><rect fill="#007A3D" width="900" height="200"/><rect fill="#FFF" y="200" width="900" height="200"/><rect fill="#000" y="400" width="900" height="200"/><g fill="#CE1126"><path d="M225 250l17 52h55l-44 32 17 52-45-33-45 33 17-52-44-32h55z"/><path d="M450 250l17 52h55l-44 32 17 52-45-33-45 33 17-52-44-32h55z"/><path d="M675 250l17 52h55l-44 32 17 52-45-33-45 33 17-52-44-32h55z"/></g></svg>`,currencies={USD:{name:'Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ',flag:'ğŸ‡ºğŸ‡¸'},EUR:{name:'Ø§Ù„ÙŠÙˆØ±Ùˆ',flag:'ğŸ‡ªğŸ‡º'},TRY:{name:'Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„ØªØ±ÙƒÙŠØ©',flag:'ğŸ‡¹ğŸ‡·'},GBP:{name:'Ø§Ù„Ø¬Ù†ÙŠÙ‡ Ø§Ù„Ø¥Ø³ØªØ±Ù„ÙŠÙ†ÙŠ',flag:'ğŸ‡¬ğŸ‡§'},SAR:{name:'Ø§Ù„Ø±ÙŠØ§Ù„ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ',flag:'ğŸ‡¸ğŸ‡¦'},AED:{name:'Ø§Ù„Ø¯Ø±Ù‡Ù… Ø§Ù„Ø¥Ù…Ø§Ø±Ø§ØªÙŠ',flag:'ğŸ‡¦ğŸ‡ª'},KWD:{name:'Ø§Ù„Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„ÙƒÙˆÙŠØªÙŠ',flag:'ğŸ‡°ğŸ‡¼'},QAR:{name:'Ø§Ù„Ø±ÙŠØ§Ù„ Ø§Ù„Ù‚Ø·Ø±ÙŠ',flag:'ğŸ‡¶ğŸ‡¦'},EGP:{name:'Ø§Ù„Ø¬Ù†ÙŠÙ‡ Ø§Ù„Ù…ØµØ±ÙŠ',flag:'ğŸ‡ªğŸ‡¬'},JOD:{name:'Ø§Ù„Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„Ø£Ø±Ø¯Ù†ÙŠ',flag:'ğŸ‡¯ğŸ‡´'},LBP:{name:'Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ù„Ø¨Ù†Ø§Ù†ÙŠØ©',flag:'ğŸ‡±ğŸ‡§'},IQD:{name:'Ø§Ù„Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠ',flag:'ğŸ‡®ğŸ‡¶'}};function md5(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r){return e&t|~e&r}function o(e,t,r){return e&r|t&~r}function a(e,t,r){return e^t^r}function c(e,t,r){return t^(e|~r)}function i(e,o,a,c,i,u){return n(t(n(n(o,e),n(c,u)),i),a)}function u(e,t,n,r,o,a,c){return i(t&n|~t&r,e,t,o,a,c)}function f(e,t,n,r,a,c,u){return i(t&r|n&~r,e,t,a,c,u)}function s(e,t,n,r,o,a,c){return i(t^n^r,e,t,o,a,c)}function l(e,t,n,r,o,a,u){return i(n^(t|~r),e,t,o,a,u)}function d(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),a=Array(o-1),c=0,i=0;i<n;)c=i%4*8,a[t=(i-i%4)/4]=a[t]|e.charCodeAt(i)<<c,i++;return c=i%4*8,a[t=(i-i%4)/4]=a[t]|128<<c,a[o-2]=n<<3,a[o-1]=n>>>29,a}function p(e){for(var t,n="",r=0;r<=3;r++)n+=(t=(e>>>8*r&255).toString(16)).length<2?"0"+t:t;return n}for(var g,v,h,m,y,w,_,b,T,x=d(e),A=1732584193,C=-271733879,E=-1732584194,I=271733878,k=0;k<x.length;k+=16)A=u(g=A,v=C,h=E,m=I,x[k],7,-680876936),I=u(I,A,C,E,x[k+1],12,-389564586),E=u(E,I,A,C,x[k+2],17,606105819),C=u(C,E,I,A,x[k+3],22,-1044525330),A=u(A,C,E,I,x[k+4],7,-176418897),I=u(I,A,C,E,x[k+5],12,1200080426),E=u(E,I,A,C,x[k+6],17,-1473231341),C=u(C,E,I,A,x[k+7],22,-45705983),A=u(A,C,E,I,x[k+8],7,1770035416),I=u(I,A,C,E,x[k+9],12,-1958414417),E=u(E,I,A,C,x[k+10],17,-42063),C=u(C,E,I,A,x[k+11],22,-1990404162),A=u(A,C,E,I,x[k+12],7,1804603682),I=u(I,A,C,E,x[k+13],12,-40341101),E=u(E,I,A,C,x[k+14],17,-1502002290),A=f(A,C=u(C,E,I,A,x[k+15],22,1236535329),E,I,x[k+1],5,-165796510),I=f(I,A,C,E,x[k+6],9,-1069501632),E=f(E,I,A,C,x[k+11],14,643717713),C=f(C,E,I,A,x[k],20,-373897302),A=f(A,C,E,I,x[k+5],5,-701558691),I=f(I,A,C,E,x[k+10],9,38016083),E=f(E,I,A,C,x[k+15],14,-660478335),C=f(C,E,I,A,x[k+4],20,-405537848),A=f(A,C,E,I,x[k+9],5,568446438),I=f(I,A,C,E,x[k+14],9,-1019803690),E=f(E,I,A,C,x[k+3],14,-187363961),C=f(C,E,I,A,x[k+8],20,1163531501),A=f(A,C,E,I,x[k+13],5,-1444681467),I=f(I,A,C,E,x[k+2],9,-51403784),E=f(E,I,A,C,x[k+7],14,1735328473),A=s(A,C=f(C,E,I,A,x[k+12],20,-1926607734),E,I,x[k+5],4,-378558),I=s(I,A,C,E,x[k+8],11,-2022574463),E=s(E,I,A,C,x[k+11],16,1839030562),C=s(C,E,I,A,x[k+14],23,-35309556),A=s(A,C,E,I,x[k+1],4,-1530992060),I=s(I,A,C,E,x[k+4],11,1272893353),E=s(E,I,A,C,x[k+7],16,-155497632),C=s(C,E,I,A,x[k+10],23,-1094730640),A=s(A,C,E,I,x[k+13],4,681279174),I=s(I,A,C,E,x[k],11,-358537222),E=s(E,I,A,C,x[k+3],16,-722521979),C=s(C,E,I,A,x[k+6],23,76029189),A=s(A,C,E,I,x[k+9],4,-640364487),I=s(I,A,C,E,x[k+12],11,-421815835),E=s(E,I,A,C,x[k+15],16,530742520),A=l(A,C=s(C,E,I,A,x[k+2],23,-995338651),E,I,x[k],6,-198630844),I=l(I,A,C,E,x[k+7],10,1126891415),E=l(E,I,A,C,x[k+14],15,-1416354905),C=l(C,E,I,A,x[k+5],21,-57434055),A=l(A,C,E,I,x[k+12],6,1700485571),I=l(I,A,C,E,x[k+3],10,-1894986606),E=l(E,I,A,C,x[k+10],15,-1051523),C=l(C,E,I,A,x[k+1],21,-2054922799),A=l(A,C,E,I,x[k+8],6,1873313359),I=l(I,A,C,E,x[k+15],10,-30611744),E=l(E,I,A,C,x[k+6],15,-1560198380),C=l(C,E,I,A,x[k+13],21,1309151649),A=l(A,C,E,I,x[k+4],6,-145523070),I=l(I,A,C,E,x[k+11],10,-1120210379),E=l(E,I,A,C,x[k+2],15,718787259),C=l(C,E,I,A,x[k+9],21,-343485551),A=n(A,g),C=n(C,v),E=n(E,h),I=n(I,m);return(p(A)+p(C)+p(E)+p(I)).toLowerCase()}function formatNum(e,t=2){return 0===t?Math.round(e).toLocaleString('en-US'):e.toLocaleString('en-US',{minimumFractionDigits:t,maximumFractionDigits:t})}async function fetchRates(){try{console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©...');const e=await fetch('https://api.exchangerate-api.com/v4/latest/USD'),t=await e.json();t&&t.rates&&(rates=t.rates,rates.SYP=15e3,console.log('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±:',rates),updateQuickRates(),displayCurrencies(),populateConverterSelects(),updates++,document.getElementById('statUpdates')&&(document.getElementById('statUpdates').textContent=updates))}catch(e){console.error('âŒ Ø®Ø·Ø£:',e)}}function updateQuickRates(){const e=rates.SYP||15e3,t=(rates.EUR||1.1)*e,a=(rates.TRY||34)*(e/34),r=(rates.EGP||50)*(e/50);document.getElementById('quickUSD').textContent=`${formatNum(e,0)} Ù„.Ø³`,document.getElementById('quickEUR').textContent=`${formatNum(t,0)} Ù„.Ø³`,document.getElementById('quickTRY').textContent=`${formatNum(a,0)} Ù„.Ø³`,document.getElementById('quickEGP').textContent=`${formatNum(r,0)} Ù„.Ø³`}function displayCurrencies(){const e=document.getElementById('currencyGrid');let t='';const a=rates.SYP||15e3;if('SYP'!==currentBase){const e=a*(1-spread/100),r=a*(1+spread/100);t+=`<div class="currency-card"><div class="currency-header"><div class="currency-info"><div class="flag" style="width: 50px; height: 50px; border-radius: 5px; overflow: hidden;">${SYRIAN_FLAG}</div><div class="currency-name"><h3>SYP</h3><p>Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ©</p></div></div></div><div class="price-row"><span class="price-label">ğŸ’µ Ø´Ø±Ø§Ø¡</span><span class="price-value buy">${formatNum(e,0)}</span></div><div class="price-row"><span class="price-label">ğŸ’° Ø¨ÙŠØ¹</span><span class="price-value sell">${formatNum(r,0)}</span></div></div>`}for(const[e,r]of Object.entries(currencies))if(e!==currentBase&&rates[e]){const n=rates[e];let c=n;'SYP'===currentBase&&(c=1/n*a);const i=c*(1-spread/100),s=c*(1+spread/100),u='TRY'===e?2:2;t+=`<div class="currency-card"><div class="currency-header"><div class="currency-info"><div class="flag">${r.flag}</div><div class="currency-name"><h3>${e}</h3><p>${r.name}</p></div></div></div><div class="price-row"><span class="price-label">ğŸ’µ Ø´Ø±Ø§Ø¡</span><span class="price-value buy">${formatNum(i,u)}</span></div><div class="price-row"><span class="price-label">ğŸ’° Ø¨ÙŠØ¹</span><span class="price-value sell">${formatNum(s,u)}</span></div></div>`}e.innerHTML=t}async function fetchGold(){try{console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©...');const e=await fetch('https://data-asg.goldprice.org/dbXRates/USD'),t=await e.json();if(t&&t.items&&t.items[0]){const e=t.items[0].xauPrice,a=e/31.1035;goldPrices={24:a,21:a*(21/24),18:a*(18/24)},console.log('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø°Ù‡Ø¨:',goldPrices),displayGold()}}catch(e){console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø°Ù‡Ø¨:',e)}}function displayGold(){const e=document.getElementById('goldSections');if(!goldPrices[24])return;const t=1,a=rates.TRY||34.5,r=rates.SYP||15e3;e.innerHTML=`${createGoldSection('ğŸ‡¸ğŸ‡¾','Ø³ÙˆØ±ÙŠØ§',r,'Ù„.Ø³',0)}${createGoldSection('ğŸ‡¹ğŸ‡·','ØªØ±ÙƒÙŠØ§',a,'TRY',2)}${createGoldSection('ğŸ‡ºğŸ‡¸','Ø¹Ø§Ù„Ù…ÙŠ',t,'USD',2)}`}function createGoldSection(e,t,a,r,n){const c='ğŸ‡¸ğŸ‡¾'===e?`<div style="width: 40px; height: 40px; border-radius: 5px; overflow: hidden;">${SYRIAN_FLAG}</div>`:`<div class="flag">${e}</div>`;return`<div class="gold-section"><div class="gold-section-header">${c}<h3>${t}</h3></div>${createGoldItem('ğŸ’','Ø°Ù‡Ø¨ 24 Ù‚ÙŠØ±Ø§Ø·',goldPrices[24]*a,r,n)}${createGoldItem('â­','Ø°Ù‡Ø¨ 21 Ù‚ÙŠØ±Ø§Ø·',goldPrices[21]*a,r,n)}${createGoldItem('ğŸŒŸ','Ø°Ù‡Ø¨ 18 Ù‚ÙŠØ±Ø§Ø·',goldPrices[18]*a,r,n)}</div>`}function createGoldItem(e,t,a,r,n){const c=a*(1-spread/100),i=a*(1+spread/100);return`<div class="gold-item"><div class="gold-item-header"><span>${e}</span><span class="gold-item-name">${t}</span></div><div class="price-row"><span class="price-label">ğŸ’µ Ø´Ø±Ø§Ø¡</span><span class="price-value">${formatNum(c,n)} ${r}</span></div><div class="price-row"><span class="price-label">ğŸ’° Ø¨ÙŠØ¹</span><span class="price-value">${formatNum(i,n)} ${r}</span></div></div>`}function populateConverterSelects(){const e=document.getElementById('currFrom'),t=document.getElementById('currTo');let a='<option value="SYP">ğŸ‡¸ğŸ‡¾ Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ©</option>';for(const[e,t]of Object.entries(currencies))rates[e]&&(a+=`<option value="${e}">${t.flag} ${t.name}</option>`);e.innerHTML=a,t.innerHTML=a,e.value='USD',t.value='SYP'}function convertCurrency(){const e=parseFloat(document.getElementById('currAmount').value)||0,t=document.getElementById('currFrom').value,a=document.getElementById('currTo').value,r=rates.SYP||15e3;let n;n=t===a?e:'SYP'===t?e/r*rates[a]:'SYP'===a?e/rates[t]*r:e/rates[t]*rates[a];const c='SYP'===a?0:2;document.getElementById('currResult').value=formatNum(n,c)}function swapCurrency(){const e=document.getElementById('currFrom'),t=document.getElementById('currTo');[e.value,t.value]=[t.value,e.value],convertCurrency()}function convertGold(){const e=parseFloat(document.getElementById('goldWeight').value)||0,t=document.getElementById('goldKarat').value,a=document.getElementById('goldCurrency').value;if(!goldPrices[t])return;let r=1;'SYP'===a?r=rates.SYP||15e3:'TRY'===a?r=rates.TRY:'EUR'===a&&(r=rates.EUR);const n=goldPrices[t]*r*e,c='SYP'===a?0:2;document.getElementById('goldResult').value=formatNum(n,c)}function convertSyrian(){const e=parseFloat(document.getElementById('syrAmount').value)||0,t=document.getElementById('syrFrom').value,a=document.getElementById('syrTo').value;let r;r='old'===t&&'new'===a?e/100:'new'===t&&'old'===a?100*e:e,document.getElementById('syrResult').value=formatNum(r,'old'===a?0:2)}function swapSyrian(){const e=document.getElementById('syrFrom'),t=document.getElementById('syrTo');[e.value,t.value]=[t.value,e.value],convertSyrian()}function changeBase(e){currentBase=e,document.querySelectorAll('.base-tab').forEach(e=>e.classList.remove('active')),event.target.classList.add('active'),displayCurrencies(),updateQuickRates()}function switchSection(e){document.querySelectorAll('.section-tab').forEach(e=>e.classList.remove('active')),document.querySelectorAll('.tab-content').forEach(e=>e.classList.remove('active')),event.target.classList.add('active'),document.getElementById(e).classList.add('active')}async function fetchWeather(){try{const e=await fetch('https://api.open-meteo.com/v1/forecast?latitude=33.5138&longitude=36.2765&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m,precipitation&timezone=auto'),t=await e.json();if(t&&t.current){const e={0:'â˜€ï¸',1:'ğŸŒ¤ï¸',2:'â›…',3:'â˜ï¸',45:'ğŸŒ«ï¸',61:'ğŸŒ§ï¸',95:'â›ˆï¸'};document.getElementById('weatherIcon').textContent=e[t.current.weather_code]||'ğŸŒ¤ï¸',document.getElementById('weatherTemp').textContent=`${Math.round(t.current.temperature_2m)}Â°`,document.getElementById('humidity').textContent=`${t.current.relative_humidity_2m}%`,document.getElementById('wind').textContent=`${Math.round(t.current.wind_speed_10m)} ÙƒÙ…/Ø³`,document.getElementById('rain').textContent=`${t.current.precipitation||0} Ù…Ù„Ù…`}}catch(e){console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø·Ù‚Ø³:',e)}}function showAdmin(){if(!isAdmin){const e=prompt('ğŸ”’ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:');if(!e)return;if(md5(e)!==ADMIN_HASH)return void alert('âŒ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!');isAdmin=!0}document.getElementById('adminPanel').classList.add('active'),visitors=parseInt(localStorage.getItem('visitors')||'0')+1,localStorage.setItem('visitors',visitors),document.getElementById('statVisitors').textContent=visitors,document.getElementById('statUpdates').textContent=updates}function closeAdmin(){document.getElementById('adminPanel').classList.remove('active')}function switchAdminTab(e){document.querySelectorAll('.admin-tab').forEach(e=>e.classList.remove('active')),document.querySelectorAll('.admin-section').forEach(e=>e.classList.remove('active')),event.target.classList.add('active'),document.getElementById(e).classList.add('active')}function saveRates(){const e=parseFloat(document.getElementById('adminUSD').value);spread=parseFloat(document.getElementById('adminSpread').value),rates.SYP=e,localStorage.setItem('adminUSD',e),localStorage.setItem('spread',spread),fetchRates(),fetchGold(),alert('âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸!')}function saveSettings(){const e=document.getElementById('siteTitle').value,t=document.getElementById('updateInterval').value;localStorage.setItem('siteTitle',e),localStorage.setItem('updateInterval',t),alert('âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸!')}const savedUSD=localStorage.getItem('adminUSD'),savedSpread=localStorage.getItem('spread');savedUSD&&(document.getElementById('adminUSD').value=savedUSD),savedSpread&&(spread=parseFloat(savedSpread),document.getElementById('adminSpread').value=spread),console.log('ğŸš€ Ø¨Ø¯Ø¡ SP-Pro Ø¨Ø£Ø³Ø¹Ø§Ø± Ø­Ù‚ÙŠÙ‚ÙŠØ©...'),fetchRates(),fetchGold(),fetchWeather(),setInterval(()=>{console.log('â° ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ...'),fetchRates(),fetchGold()},3e4),setInterval(fetchWeather,3e5),console.log('âœ… Ø¬Ø§Ù‡Ø²!'),console.log('ğŸ”’ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: admin123');
